(this.webpackJsonppart1=this.webpackJsonppart1||[]).push([[0],{14:function(e,n,t){e.exports=t(39)},38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(13),o=t.n(r),u=t(4),l=t(2),i=t(3),m=t.n(i),s="/api/persons",d=function(e){return m.a.post(s,e).then((function(e){return e.data}))},f=function(){return m.a.get(s).then((function(e){return e.data}))},h=function(e){return m.a.delete("".concat(s,"/").concat(e))},p=function(e){return m.a.put("".concat(s,"/").concat(e.id),e).then((function(e){return e.data}))},b=function(e){var n=e.data;if(void 0===n)return null;var t=n.message,a=n.warning?"netWarning":"netMessage";return c.a.createElement("div",{className:a},t)},v=function(e){var n=e.clbSearch,t=e.search;return c.a.createElement("div",null,"Filter phonebook: ",c.a.createElement("input",{type:"text",value:t,onChange:n}))},E=function(e){var n=e.persons,t=e.search,a=e.deleteClb;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"Numbers"),n.filter((function(e){return e.name.indexOf(t)>-1})).map((function(e,n){return c.a.createElement("p",{key:e.id},e.name," ",e.phone,c.a.createElement("button",{onClick:a(e)},"Delete"))})))},g=function(e){var n=e.clbSubmit,t=e.name,a=e.clbName,r=e.phone,o=e.clbPhone;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"Add new person"),c.a.createElement("form",{onSubmit:n},c.a.createElement("div",null,"name: ",c.a.createElement("input",{value:t,onChange:a})),c.a.createElement("div",null,"phone: ",c.a.createElement("input",{value:r,onChange:o})),c.a.createElement("div",null,c.a.createElement("button",{type:"submit"},"add"))))},y=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],r=n[1],o=Object(a.useState)(""),i=Object(l.a)(o,2),m=i[0],s=i[1],y=Object(a.useState)(""),O=Object(l.a)(y,2),j=O[0],w=O[1],S=Object(a.useState)(""),k=Object(l.a)(S,2),C=k[0],D=k[1],N=Object(a.useState)(void 0),x=Object(l.a)(N,2),F=x[0],P=x[1],T=function(){f().then((function(e){return r(e)}))};Object(a.useEffect)(T,[]);var J=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;P({message:e,warning:n}),setTimeout((function(){return P(void 0)}),1e3*t)};return c.a.createElement("div",null,c.a.createElement("h1",null,"Phonebook"),c.a.createElement(b,{data:F}),c.a.createElement(v,{search:C,clbSearch:function(e){return D(e.target.value)}}),c.a.createElement(g,{clbSubmit:function(e){e.preventDefault();var n=t.find((function(e){return e.name===m}));void 0===n?d({name:m,phone:j}).then((function(e){T(),s(""),w(""),J("".concat(e.name," is successfully added to the phonebook!"))})).catch((function(e){J("".concat(e.response.data.error),!0),T()})):n.phone==j?J("Warning! The card for ".concat(m," with phone ").concat(j," is already in the phonebook."),!0):window.confirm("".concat(m," is already in the phonebook.\n \n        Do you want to update the phone: ").concat(n.phone," with ").concat(j,"?"))&&p(Object(u.a)(Object(u.a)({},n),{},{phone:j})).then((function(e){r(t.map((function(n){return n.id===e.id?e:n}))),s(""),w(""),J("The phone number for ".concat(e.name," is successfully updated!"))})).catch((function(e){J("".concat(n.name," is already deleted from server!"),!0),T()}))},name:m,clbName:function(e){return s(e.target.value)},phone:j,clbPhone:function(e){return w(e.target.value)}}),c.a.createElement(E,{search:C,persons:t,deleteClb:function(e){return function(n){window.confirm("Do you really want to delete ".concat(e.name,"?"))&&h(e.id).then((function(n){T(),J("".concat(e.name," is successfully deleted from server!"))})).catch((function(n){J("".concat(e.name," is already deleted from server!"),!0),T()}))}}}))};t(38);o.a.render(c.a.createElement(y,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.6b27340f.chunk.js.map